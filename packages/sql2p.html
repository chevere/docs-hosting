<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL2P | Chevere</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/logo.png">
    <link rel="apple-touch-icon" href="/logo.png">
    <meta name="description" content="High quality library for building server-side software">
    <meta property="og:site_name" content="Chevere">
    <meta property="og:title" content="SQL2P">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/packages/sql2p.html">
    <meta name="twitter:title" content="SQL2P">
    <meta name="twitter:url" content="/packages/sql2p.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="preload" href="/assets/css/0.styles.0f7b7e19.css" as="style"><link rel="preload" href="/assets/js/app.d34653bd.js" as="script"><link rel="preload" href="/assets/js/2.b3d98ebb.js" as="script"><link rel="preload" href="/assets/js/1.cbf95cfe.js" as="script"><link rel="preload" href="/assets/js/46.e9f9b4e0.js" as="script"><link rel="prefetch" href="/assets/js/10.ce1ffa88.js"><link rel="prefetch" href="/assets/js/11.19c30390.js"><link rel="prefetch" href="/assets/js/12.63244053.js"><link rel="prefetch" href="/assets/js/13.7278834f.js"><link rel="prefetch" href="/assets/js/14.ddbbd723.js"><link rel="prefetch" href="/assets/js/15.951b87f8.js"><link rel="prefetch" href="/assets/js/16.22953f39.js"><link rel="prefetch" href="/assets/js/17.37cdd360.js"><link rel="prefetch" href="/assets/js/18.ac720a26.js"><link rel="prefetch" href="/assets/js/19.265c60db.js"><link rel="prefetch" href="/assets/js/20.b5e0f461.js"><link rel="prefetch" href="/assets/js/21.f8a5d0fc.js"><link rel="prefetch" href="/assets/js/22.c7db5a2e.js"><link rel="prefetch" href="/assets/js/23.a460b2d2.js"><link rel="prefetch" href="/assets/js/24.86dbe629.js"><link rel="prefetch" href="/assets/js/25.c73b6e9d.js"><link rel="prefetch" href="/assets/js/26.f000397d.js"><link rel="prefetch" href="/assets/js/27.b31a4070.js"><link rel="prefetch" href="/assets/js/28.496ebfd9.js"><link rel="prefetch" href="/assets/js/29.05fbe802.js"><link rel="prefetch" href="/assets/js/3.f1e808b9.js"><link rel="prefetch" href="/assets/js/30.71265950.js"><link rel="prefetch" href="/assets/js/31.e70afbfe.js"><link rel="prefetch" href="/assets/js/32.cfb0ea4f.js"><link rel="prefetch" href="/assets/js/33.1a8363dd.js"><link rel="prefetch" href="/assets/js/34.fffa1c28.js"><link rel="prefetch" href="/assets/js/35.34dbf8b8.js"><link rel="prefetch" href="/assets/js/36.7dadbdad.js"><link rel="prefetch" href="/assets/js/37.04acf26c.js"><link rel="prefetch" href="/assets/js/38.445c0cf6.js"><link rel="prefetch" href="/assets/js/39.8f93d2ef.js"><link rel="prefetch" href="/assets/js/4.17348ca1.js"><link rel="prefetch" href="/assets/js/40.17367ac9.js"><link rel="prefetch" href="/assets/js/41.84fecf3f.js"><link rel="prefetch" href="/assets/js/42.f05895a0.js"><link rel="prefetch" href="/assets/js/43.3f60a48f.js"><link rel="prefetch" href="/assets/js/44.bf84ff95.js"><link rel="prefetch" href="/assets/js/45.707dd8ea.js"><link rel="prefetch" href="/assets/js/47.f72248a4.js"><link rel="prefetch" href="/assets/js/48.6d6f2739.js"><link rel="prefetch" href="/assets/js/49.26c317d9.js"><link rel="prefetch" href="/assets/js/5.e159fa16.js"><link rel="prefetch" href="/assets/js/50.fc323f0d.js"><link rel="prefetch" href="/assets/js/51.dff8e62e.js"><link rel="prefetch" href="/assets/js/52.78353147.js"><link rel="prefetch" href="/assets/js/53.b63a6e35.js"><link rel="prefetch" href="/assets/js/54.229b25c6.js"><link rel="prefetch" href="/assets/js/6.e3ac936f.js"><link rel="prefetch" href="/assets/js/7.8fcd73e7.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.92fa0d62.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0f7b7e19.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Chevere" class="logo"> <span class="site-name can-hide">Chevere</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/introduction/" class="nav-link">
  Intro
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Packages Menu" class="dropdown-title"><span class="title">Packages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Packages Menu" class="mobile-dropdown-title"><span class="title">Packages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/packages/action.html" class="nav-link">
  Action
</a></li><li class="dropdown-item"><!----> <a href="/packages/container.html" class="nav-link">
  Container
</a></li><li class="dropdown-item"><!----> <a href="/packages/data-structure.html" class="nav-link">
  DataStructure
</a></li><li class="dropdown-item"><!----> <a href="/packages/filesystem.html" class="nav-link">
  Filesystem
</a></li><li class="dropdown-item"><!----> <a href="/packages/http.html" class="nav-link">
  Http
</a></li><li class="dropdown-item"><!----> <a href="/packages/message.html" class="nav-link">
  Message
</a></li><li class="dropdown-item"><!----> <a href="/packages/parameter.html" class="nav-link">
  Parameter
</a></li><li class="dropdown-item"><!----> <a href="/packages/regex.html" class="nav-link">
  Regex
</a></li><li class="dropdown-item"><!----> <a href="/packages/router.html" class="nav-link">
  Router
</a></li><li class="dropdown-item"><!----> <a href="/packages/schwager.html" class="nav-link">
  Schwager
</a></li><li class="dropdown-item"><!----> <a href="/packages/sql2p.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  SQL2P
</a></li><li class="dropdown-item"><!----> <a href="/packages/standard.html" class="nav-link">
  Standard
</a></li><li class="dropdown-item"><!----> <a href="/packages/throwable-handler.html" class="nav-link">
  ThrowableHandler
</a></li><li class="dropdown-item"><!----> <a href="/packages/trace.html" class="nav-link">
  Trace
</a></li><li class="dropdown-item"><!----> <a href="/packages/var-dump.html" class="nav-link">
  VarDump
</a></li><li class="dropdown-item"><!----> <a href="/packages/var-support.html" class="nav-link">
  VarSupport
</a></li><li class="dropdown-item"><!----> <a href="/packages/workflow.html" class="nav-link">
  Workflow
</a></li><li class="dropdown-item"><!----> <a href="/packages/writer.html" class="nav-link">
  Writer
</a></li><li class="dropdown-item"><!----> <a href="/packages/xrdebug.html" class="nav-link">
  xrDebug
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dev Menu" class="dropdown-title"><span class="title">Dev</span> <span class="arrow down"></span></button> <button type="button" aria-label="Dev Menu" class="mobile-dropdown-title"><span class="title">Dev</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Standard
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developer/standard/quality.html" class="nav-link">
  Quality
</a></li><li class="dropdown-subitem"><a href="/developer/standard/coding.html" class="nav-link">
  Coding
</a></li><li class="dropdown-subitem"><a href="/developer/standard/immutability.html" class="nav-link">
  Immutability
</a></li><li class="dropdown-subitem"><a href="/developer/standard/testing.html" class="nav-link">
  Testing
</a></li></ul></li><li class="dropdown-item"><h4>
          Spec
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developer/spec/interfaces.html" class="nav-link">
  Interfaces
</a></li><li class="dropdown-subitem"><a href="/developer/spec/components.html" class="nav-link">
  Components
</a></li></ul></li><li class="dropdown-item"><h4>
          Environment
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developer/environment/system.html" class="nav-link">
  System
</a></li><li class="dropdown-subitem"><a href="/developer/environment/workspace.html" class="nav-link">
  Workspace
</a></li></ul></li></ul></div></div> <a href="https://github.com/chevere/chevere" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/introduction/" class="nav-link">
  Intro
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Packages Menu" class="dropdown-title"><span class="title">Packages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Packages Menu" class="mobile-dropdown-title"><span class="title">Packages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/packages/action.html" class="nav-link">
  Action
</a></li><li class="dropdown-item"><!----> <a href="/packages/container.html" class="nav-link">
  Container
</a></li><li class="dropdown-item"><!----> <a href="/packages/data-structure.html" class="nav-link">
  DataStructure
</a></li><li class="dropdown-item"><!----> <a href="/packages/filesystem.html" class="nav-link">
  Filesystem
</a></li><li class="dropdown-item"><!----> <a href="/packages/http.html" class="nav-link">
  Http
</a></li><li class="dropdown-item"><!----> <a href="/packages/message.html" class="nav-link">
  Message
</a></li><li class="dropdown-item"><!----> <a href="/packages/parameter.html" class="nav-link">
  Parameter
</a></li><li class="dropdown-item"><!----> <a href="/packages/regex.html" class="nav-link">
  Regex
</a></li><li class="dropdown-item"><!----> <a href="/packages/router.html" class="nav-link">
  Router
</a></li><li class="dropdown-item"><!----> <a href="/packages/schwager.html" class="nav-link">
  Schwager
</a></li><li class="dropdown-item"><!----> <a href="/packages/sql2p.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  SQL2P
</a></li><li class="dropdown-item"><!----> <a href="/packages/standard.html" class="nav-link">
  Standard
</a></li><li class="dropdown-item"><!----> <a href="/packages/throwable-handler.html" class="nav-link">
  ThrowableHandler
</a></li><li class="dropdown-item"><!----> <a href="/packages/trace.html" class="nav-link">
  Trace
</a></li><li class="dropdown-item"><!----> <a href="/packages/var-dump.html" class="nav-link">
  VarDump
</a></li><li class="dropdown-item"><!----> <a href="/packages/var-support.html" class="nav-link">
  VarSupport
</a></li><li class="dropdown-item"><!----> <a href="/packages/workflow.html" class="nav-link">
  Workflow
</a></li><li class="dropdown-item"><!----> <a href="/packages/writer.html" class="nav-link">
  Writer
</a></li><li class="dropdown-item"><!----> <a href="/packages/xrdebug.html" class="nav-link">
  xrDebug
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Dev Menu" class="dropdown-title"><span class="title">Dev</span> <span class="arrow down"></span></button> <button type="button" aria-label="Dev Menu" class="mobile-dropdown-title"><span class="title">Dev</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Standard
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developer/standard/quality.html" class="nav-link">
  Quality
</a></li><li class="dropdown-subitem"><a href="/developer/standard/coding.html" class="nav-link">
  Coding
</a></li><li class="dropdown-subitem"><a href="/developer/standard/immutability.html" class="nav-link">
  Immutability
</a></li><li class="dropdown-subitem"><a href="/developer/standard/testing.html" class="nav-link">
  Testing
</a></li></ul></li><li class="dropdown-item"><h4>
          Spec
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developer/spec/interfaces.html" class="nav-link">
  Interfaces
</a></li><li class="dropdown-subitem"><a href="/developer/spec/components.html" class="nav-link">
  Components
</a></li></ul></li><li class="dropdown-item"><h4>
          Environment
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developer/environment/system.html" class="nav-link">
  System
</a></li><li class="dropdown-subitem"><a href="/developer/environment/workspace.html" class="nav-link">
  Workspace
</a></li></ul></li></ul></div></div> <a href="https://github.com/chevere/chevere" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SQL2P</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/packages/sql2p.html#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/packages/sql2p.html#installing" class="sidebar-link">Installing</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/packages/sql2p.html#how-it-works" class="sidebar-link">How it works?</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/packages/sql2p.html#creating-sql2p" class="sidebar-link">Creating SQL2P</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/packages/sql2p.html#data-validation" class="sidebar-link">Data validation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/packages/sql2p.html#array-composing" class="sidebar-link">Array composing</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="sql2p"><a href="#sql2p" class="header-anchor">#</a> SQL2P</h1> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <p>SQL2P generates <a href="https://chevere.org/packages/parameter" target="_blank" rel="noopener noreferrer">Parameter(s)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for MySQL schemas. It represents database tables and its columns using the Parameter package.</p> <h2 id="installing"><a href="#installing" class="header-anchor">#</a> Installing</h2> <p>SQL2P is available through <a href="https://packagist.org/packages/chevere/sql2p" target="_blank" rel="noopener noreferrer">Packagist<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and the repository source is at <a href="https://github.com/chevere/sql2p" target="_blank" rel="noopener noreferrer">chevere/sql2p<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">composer</span> require chevere/sql2p
</code></pre></div><h2 id="how-it-works"><a href="#how-it-works" class="header-anchor">#</a> How it works?</h2> <p>From a <code>CREATE TABLE</code> statement like this one below.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>invoice<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>client_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>datetime<span class="token punctuation">`</span></span> <span class="token keyword">DATETIME</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>details<span class="token punctuation">`</span></span> <span class="token keyword">LONGTEXT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>quantity<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>rate<span class="token punctuation">`</span></span> <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>total<span class="token punctuation">`</span></span> <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> GENERATED ALWAYS <span class="token keyword">AS</span> <span class="token punctuation">(</span>quantity<span class="token operator">*</span>rate<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">InnoDB</span><span class="token punctuation">;</span>
</code></pre></div><p>SQL2P generates the following PHP code.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>Interfaces<span class="token punctuation">\</span>ArrayParameterInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>arrayp</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>datetime</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>float</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>int</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>null</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>string</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>union</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function-definition function">invoiceTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name return-type">ArrayParameterInterface</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">arrayp</span><span class="token punctuation">(</span>
        <span class="token argument-name">id</span><span class="token punctuation">:</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token argument-name">min</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token argument-name">client_id</span><span class="token punctuation">:</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token argument-name">min</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token argument-name">datetime</span><span class="token punctuation">:</span> <span class="token function">datetime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token argument-name">details</span><span class="token punctuation">:</span> <span class="token function">union</span><span class="token punctuation">(</span>
            <span class="token constant">null</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token argument-name">quantity</span><span class="token punctuation">:</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token argument-name">min</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token argument-name">rate</span><span class="token punctuation">:</span> <span class="token keyword type-declaration">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token argument-name">total</span><span class="token punctuation">:</span> <span class="token keyword type-declaration">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The <code>invoiceTable()</code> function returns table <code>invoice</code> schema in PHP code using <a href="https://chevere.org/packages/parameter#array" target="_blank" rel="noopener noreferrer">Array<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Parameter where each column is represented by another Parameter.</p> <p>From this you can add your own validation rules on top of generated code.</p> <p>For example, you limit <code>quantity</code> to a range of <code>100, 200</code> by adding <code>max</code> and <code>min</code> arguments. Add a regex to <code>details</code> to validate string shape.</p> <div class="language-diff extra-class"><pre class="language-diff"><code>details: union(
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   null(),
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    string()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    string('/^(?!\s*$)./')
</span></span>),
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">quantity: int(min: 0),
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">quantity: int(max: 200, min: 100),
</span></span></code></pre></div><p>Array Parameter object returned by this function can be also used to dynamic interact with one or more of these columns. See <a href="#array-composing">Array Composing</a> to learn more.</p> <h2 id="creating-sql2p"><a href="#creating-sql2p" class="header-anchor">#</a> Creating SQL2P</h2> <p>Create a <code>SQL2P</code> instance by passing the SQL and a <a href="https://chevere.org/packages/writer" target="_blank" rel="noopener noreferrer">Writer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> instance. On instance creation the SQL is parsed and the writer is used to write the generated code.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Chevere<span class="token punctuation">\</span>SQL2P<span class="token punctuation">\</span>SQL2P</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Chevere<span class="token punctuation">\</span>Writer<span class="token punctuation">\</span>StreamWriter</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Filesystem<span class="token punctuation">\</span>fileForPath</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Writer<span class="token punctuation">\</span>streamFor</span><span class="token punctuation">;</span>

<span class="token variable">$schema</span> <span class="token operator">=</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/schema.sql'</span><span class="token punctuation">;</span>
<span class="token variable">$output</span> <span class="token operator">=</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/sql2p.php'</span><span class="token punctuation">;</span>
<span class="token variable">$header</span> <span class="token operator">=</span> <span class="token string heredoc-string"><span class="token delimiter symbol"><span class="token punctuation">&lt;&lt;&lt;</span>PHP</span>
namespace MyNamespace;
<span class="token delimiter symbol">PHP<span class="token punctuation">;</span></span></span>
<span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$schema</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token variable">$output</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$stream</span> <span class="token operator">=</span> <span class="token function">streamFor</span><span class="token punctuation">(</span><span class="token variable">$output</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'w'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$writer</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StreamWriter</span><span class="token punctuation">(</span><span class="token variable">$stream</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$sql2p</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SQL2P</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">,</span> <span class="token variable">$writer</span><span class="token punctuation">,</span> <span class="token variable">$header</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$count</span> <span class="token operator">=</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$sql2p</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token string heredoc-string"><span class="token delimiter symbol"><span class="token punctuation">&lt;&lt;&lt;</span>PLAIN</span>
[<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$count</span><span class="token punctuation">}</span></span> tables] <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$output</span><span class="token operator">-&gt;</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>

<span class="token delimiter symbol">PLAIN<span class="token punctuation">;</span></span></span>
</code></pre></div><h2 id="data-validation"><a href="#data-validation" class="header-anchor">#</a> Data validation</h2> <p>Use SQL2P to validate data against table Parameter schema.</p> <p>For example, on a single fetch result you may get the following array for a database row.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> invoice <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$fetch</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'client_id'</span> <span class="token operator">=&gt;</span> <span class="token number">1234</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'datetime'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'2023-10-22 19:58:44'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'details'</span> <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'quantity'</span> <span class="token operator">=&gt;</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'rate'</span> <span class="token operator">=&gt;</span> <span class="token number">16.5</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'total'</span> <span class="token operator">=&gt;</span> <span class="token number">1650</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>Function <code>invoiceTable()</code> can be used to validate <code>$fetch</code> by invoking it.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$table</span> <span class="token operator">=</span> <span class="token function">invoiceTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$table</span><span class="token punctuation">(</span><span class="token variable">$fetch</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// validation</span>
</code></pre></div><p>Use <code>arrayFrom</code> function to create an array taking only the columns you need.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> total <span class="token keyword">FROM</span> invoice <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>arrayFrom</span><span class="token punctuation">;</span>

<span class="token variable">$fetch</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'total'</span> <span class="token operator">=&gt;</span> <span class="token number">1650</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$table</span> <span class="token operator">=</span> <span class="token function">arrayFrom</span><span class="token punctuation">(</span><span class="token function">invoiceTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'total'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$table</span><span class="token punctuation">(</span><span class="token variable">$fetch</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Use <code>arguments</code> function to get typed access to fetched array members.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Chevere<span class="token punctuation">\</span>Parameter<span class="token punctuation">\</span>arguments</span><span class="token punctuation">;</span>

<span class="token variable">$invoice</span> <span class="token operator">=</span> <span class="token function">arguments</span><span class="token punctuation">(</span><span class="token variable">$table</span><span class="token punctuation">,</span> <span class="token variable">$fetch</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$total</span> <span class="token operator">=</span> <span class="token variable">$invoice</span><span class="token operator">-&gt;</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'total'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1650</span>
</code></pre></div><p>When fetching multiple rows wrap Array table with <a href="https://chevere.org/packages/parameter.html#iterable" target="_blank" rel="noopener noreferrer">iterable<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> function.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> total <span class="token keyword">FROM</span> invoice <span class="token keyword">WHERE</span> id <span class="token operator">&gt;</span> <span class="token number">0</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$fetchAll</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'total'</span> <span class="token operator">=&gt;</span> <span class="token number">1650</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token number">1</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'total'</span> <span class="token operator">=&gt;</span> <span class="token number">1820</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$iterable</span> <span class="token operator">=</span> <span class="token keyword type-declaration">iterable</span><span class="token punctuation">(</span><span class="token variable">$table</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$iterable</span><span class="token punctuation">(</span><span class="token variable">$fetchAll</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note that <code>arguments</code> function supports iterable.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$invoices</span> <span class="token operator">=</span> <span class="token function">arguments</span><span class="token punctuation">(</span><span class="token variable">$iterable</span><span class="token punctuation">,</span> <span class="token variable">$fetchAll</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$secondRow</span> <span class="token operator">=</span> <span class="token variable">$invoices</span><span class="token operator">-&gt;</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'1'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="array-composing"><a href="#array-composing" class="header-anchor">#</a> Array composing</h2> <p>Parameter provides a set of tools to work with arrays, enabling to dynamically add, remove or modify values. It also enables to compose arrays from other arrays.</p> <p>For example to add a <code>total_usd</code> virtual column to <code>invoiceTable()</code>.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    id<span class="token punctuation">,</span>
    total<span class="token punctuation">,</span>
    total<span class="token operator">/</span><span class="token number">100</span> total_usd
<span class="token keyword">FROM</span> invoice <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$fetch</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'total'</span> <span class="token operator">=&gt;</span> <span class="token number">1650</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'total_usd'</span> <span class="token operator">=&gt;</span> <span class="token number">16.5</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$table</span> <span class="token operator">=</span> <span class="token function">arrayFrom</span><span class="token punctuation">(</span><span class="token function">invoiceTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'total'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$table</span> <span class="token operator">=</span> <span class="token variable">$table</span>
    <span class="token operator">-&gt;</span><span class="token function">withRequired</span><span class="token punctuation">(</span>
        <span class="token argument-name">total_usd</span><span class="token punctuation">:</span> <span class="token keyword type-declaration">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$table</span><span class="token punctuation">(</span><span class="token variable">$fetch</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>When <code>JOIN</code> tables you may want to take columns based on joined tables. Use <code>takeFrom</code> function to create a iterable with <code>column =&gt; parameter</code> pairs.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    invoice<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
    invoice<span class="token punctuation">.</span>total<span class="token punctuation">,</span>
    client<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    client<span class="token punctuation">.</span>email
<span class="token keyword">FROM</span> invoice
<span class="token keyword">JOIN</span> client <span class="token keyword">ON</span> client<span class="token punctuation">.</span>id <span class="token operator">=</span> invoice<span class="token punctuation">.</span>client_id
<span class="token keyword">WHERE</span> invoice<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$fetch</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'id'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'total'</span> <span class="token operator">=&gt;</span> <span class="token number">1650</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Rodolfo'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'email'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'rodolfo@chevere.org'</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$invoice</span> <span class="token operator">=</span> <span class="token function">arrayFrom</span><span class="token punctuation">(</span><span class="token function">invoiceTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'id'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'total'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token function">takeFrom</span><span class="token punctuation">(</span><span class="token function">clientTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'email'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$table</span> <span class="token operator">=</span> <span class="token variable">$invoice</span><span class="token operator">-&gt;</span><span class="token function">withRequired</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token variable">$client</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$table</span><span class="token punctuation">(</span><span class="token variable">$fetch</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>For this code <code>$client</code> is assigned to an iterable containing <code>name</code> and <code>email</code> column pairs from <code>clientTable()</code>. Then by calling <code>withRequired</code> on <code>$invoice</code> it gets these columns on spread.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chevere/docs/edit/main/packages/sql2p.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d34653bd.js" defer></script><script src="/assets/js/2.b3d98ebb.js" defer></script><script src="/assets/js/1.cbf95cfe.js" defer></script><script src="/assets/js/46.e9f9b4e0.js" defer></script>
  </body>
</html>
